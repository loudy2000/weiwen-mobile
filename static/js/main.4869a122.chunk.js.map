{"version":3,"sources":["utils/index.js","data/index.js","pages/PostsPage.js","pages/MsgsPage.js","pages/MyPage.js","App.js","index.js","api/ipfsApi.js"],"names":["IconText","_ref","type","text","onClick","react_default","a","createElement","class","style","marginRight","data","id","author","content","attachtype","attachment","time","balance","like_num","comment_num","PostsPage","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onRefresh","setState","refreshing","isLoading","genData","onEndReached","event","state","setTimeout","rData","concat","toConsumableArray","genOnePageData","pageIndex","dataSource","cloneWithRows","list_view_default","DataSource","rowHasChanged","row1","row2","pIndex","arguments","length","undefined","dataArr","i","push","_this2","axios","post","code","scope","table","then","response","console","log","catch","error","href","utils_IconText","ipfsApi","target","rel","src","alt","width","height","_this3","index","react","nav_bar_default","mode","rightContent","key","ref","el","lv","renderRow","rowData","sectionID","rowID","item","padding","card_default","full","Header","title","thumb","extra","fontSize","moment","valueOf","format","Body","white_space_default","size","className","renderAttachment","flex_default","color","Item","parseFloat","toFixed","renderSeparator","backgroundColor","borderTop","borderBottom","renderFooter","textAlign","document","documentElement","clientHeight","pullToRefresh","pull_to_refresh_default","pageSize","Component","MsgsPage","MyPage","App","selectedTab","createTabItem","icon","selectedIcon","page","badge","tab_bar_default","selected","onPress","unselectedTintColor","tintColor","barTintColor","pages_PostsPage","pages_MsgsPage","pages_MyPage","ReactDOM","render","src_App_0","getElementById","Buffer","__webpack_require__","d","__webpack_exports__","ipfsUrl","ipfs_api__WEBPACK_IMPORTED_MODULE_0__","ipfs_api__WEBPACK_IMPORTED_MODULE_0___default","n","IpfsAPI","protocol","hash"],"mappings":"qbAEaA,EAAW,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMC,EAATF,EAASE,KAAMC,EAAfH,EAAeG,QAAf,OACtBC,EAAAC,EAAAC,cAAA,QAAMH,QAASA,GACbC,EAAAC,EAAAC,cAAA,KAAGC,MAAO,YAAcN,EAAMO,MAAO,CAAEC,YAAa,KACnDP,aCLQQ,EAAM,CAAC,CAClBC,GAAM,EACNC,OAAU,eACVC,QAAW,gBACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,iBACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,eACXC,WAAc,EACdC,WAAc,gCACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,+mBACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,0iDACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,QACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,QACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,QACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,QACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,EACNC,OAAU,eACVC,QAAW,i6BACXC,WAAc,EACdC,WAAc,GACdC,KAAQ,sBACRC,QAAW,cACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,GACNC,OAAU,eACVC,QAAW,2BACXC,WAAc,EACdC,WAAc,gCACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,GACNC,OAAU,eACVC,QAAW,+BACXC,WAAc,EACdC,WAAc,gCACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,GACNC,OAAU,eACVC,QAAW,+BACXC,WAAc,EACdC,WAAc,wBACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,GACNC,OAAU,eACVC,QAAW,2BACXC,WAAc,EACdC,WAAc,8BACdC,KAAQ,sBACRC,QAAW,aACXC,SAAY,EACZC,YAAe,GACf,CACAR,GAAM,GACNC,OAAU,eACVC,QAAW,+BACXC,WAAc,EACdC,WAAc,uEACdC,KAAQ,sBACRC,QAAW,eACXC,SAAY,EACZC,YAAe,ICsBFC,cA9Jb,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAgDRQ,UAAY,WACVP,EAAKQ,SAAS,CAAEC,YAAY,EAAMC,WAAW,IAC7CV,EAAKW,WAnDYX,EAsDnBY,aAAe,SAACC,GACVb,EAAKc,MAAMJ,YACfV,EAAKQ,SAAS,CAAEE,WAAW,IAE3BK,WAAW,WACTf,EAAKgB,MAAL,GAAAC,OAAAhB,OAAAiB,EAAA,EAAAjB,CAAiBD,EAAKgB,OAAtBf,OAAAiB,EAAA,EAAAjB,CAAgCD,EAAKmB,iBAAiBnB,EAAKoB,aAC3DpB,EAAKQ,SAAS,CACZa,WAAYrB,EAAKc,MAAMO,WAAWC,cAActB,EAAKgB,OACrDN,WAAW,KAEZ,OA9DH,IAAMW,EAAa,IAAIE,EAAAxC,EAASyC,WAAW,CACzCC,cAAe,SAACC,EAAMC,GAAP,OAAgBD,IAASC,KAHzB,OAMjB3B,EAAKoB,UAAY,EAEjBpB,EAAKc,MAAQ,CACXO,aACAZ,YAAY,EACZC,WAAW,GAXIV,gFAiBjB,IAFyB,IAAZ4B,EAAYC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAChBG,EAAU,GACPC,EAAI,EAAGA,EArBC,GAqBiBA,IAChCD,EAAQE,KAAR,SAAAjB,OAtBe,GAsBQW,EAAyBK,IAElD,OAAOD,oCAGA,IAAAG,EAAAhC,KAEPiC,IAAMC,KAAK,yDAA0D,CACnEC,KAAM,eACNC,MAAO,eACPC,MAAO,cACNC,KAAK,SAAUC,GAChBC,QAAQC,IAAIF,KACXG,MAAM,SAAUC,GACjBH,QAAQC,IAAIE,KAGd/B,WAAW,WACToB,EAAKnB,MAAQmB,EAAKhB,iBAClBgB,EAAK3B,SAAS,CACZa,WAAYc,EAAKrB,MAAMO,WAAWC,cAAca,EAAKnB,OACrDP,YAAY,EACZC,WAAW,KAEZ,iDAIHP,KAAKQ,mDAqBUhC,EAAMc,GACrB,OAAY,IAATd,EACMG,EAAAC,EAAAC,cAAA,KAAG+D,KAAMtD,GAAYX,EAAAC,EAAAC,cAACgE,EAAD,CAAUrE,KAAK,YAAYC,KAAMa,KAC7C,IAATd,EACAG,EAAAC,EAAAC,cAAA,KAAG+D,KAAME,IAAgBxD,IAAaX,EAAAC,EAAAC,cAACgE,EAAD,CAAUrE,KAAK,YAAYC,KAAMa,KAC9D,IAATd,EAELG,EAAAC,EAAAC,cAAA,KAAG+D,KAAMtD,EAAYyD,OAAO,SAASC,IAAI,uBACvCrE,EAAAC,EAAAC,cAAA,OAAKoE,IAAK3D,EAAY4D,IAAI,GAAGnE,MAAO,CAACoE,MAAO,IAAKC,OAAQ,QAIxD,oCAGA,IAAAC,EAAArD,KACHsD,EAAQrE,EAAK0C,OAAS,EAoC1B,OACEhD,EAAAC,EAAAC,cAAC0E,EAAA,SAAD,KACE5E,EAAAC,EAAAC,cAAA2E,EAAA5E,EAAA,CAAQ6E,KAAK,OAAOC,aAAa,gBAAjC,gBAGA/E,EAAAC,EAAAC,cAAAuC,EAAAxC,EAAA,CACE+E,IAAK,IACLC,IAAK,SAAAC,GAAE,OAAIR,EAAKS,GAAKD,GACrB3C,WAAYlB,KAAKW,MAAMO,WACvB6C,UA5CM,SAACC,EAASC,EAAWC,GAC3BZ,EAAQ,IACVA,EAAQrE,EAAK0C,OAAS,GAExB,IAAMwC,EAAOlF,EAAKqE,KAElB,OACE3E,EAAAC,EAAAC,cAAA,OAAK8E,IAAKO,EAAOnF,MAAO,CAAEqF,QAAS,WACjCzF,EAAAC,EAAAC,cAAAwF,EAAAzF,EAAA,CAAM0F,MAAI,GACR3F,EAAAC,EAAAC,cAAAwF,EAAAzF,EAAM2F,OAAN,CACEC,MAAOL,EAAKhF,OACZsF,MAAM,iFACNC,MAAO/F,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAC4F,SAAU,SAAUC,IAAOA,IAAOT,EAAK5E,MAAMsF,UAAU,OAAWC,OAAO,uBAEhGnG,EAAAC,EAAAC,cAAAwF,EAAAzF,EAAMmG,KAAN,KACEpG,EAAAC,EAAAC,cAAAmG,EAAApG,EAAA,CAAYqG,KAAK,OACjBtG,EAAAC,EAAAC,cAAA,OAAKqG,UAAU,gBAAgBf,EAAK/E,SACpCT,EAAAC,EAAAC,cAAAmG,EAAApG,EAAA,CAAYqG,KAAK,OAEfd,EAAK9E,WACLV,EAAAC,EAAAC,cAAA,OAAKqG,UAAU,eACZ7B,EAAK8B,iBAAiBhB,EAAK9E,WAAY8E,EAAK7E,aACtC,GAEXX,EAAAC,EAAAC,cAAAmG,EAAApG,EAAA,CAAYqG,KAAK,OACjBtG,EAAAC,EAAAC,cAAAuG,EAAAxG,EAAA,CAAMG,MAAO,CAACsG,MAAO,kBAAmBV,SAAU,SAChDhG,EAAAC,EAAAC,cAAAuG,EAAAxG,EAAM0G,KAAN,KAAW3G,EAAAC,EAAAC,cAACgE,EAAD,CAAUrE,KAAK,aAAaC,KAAM8G,WAAWpB,EAAK3E,SAASgG,QAAQ,MAC9E7G,EAAAC,EAAAC,cAAAuG,EAAAxG,EAAM0G,KAAN,KAAW3G,EAAAC,EAAAC,cAACgE,EAAD,CAAUrE,KAAK,eAAeC,KAAM0F,EAAK1E,SAAUf,QAAS,WAAO8D,QAAQC,IAAI,QAAQ0B,EAAKjF,QACvGP,EAAAC,EAAAC,cAAAuG,EAAAxG,EAAM0G,KAAN,KAAW3G,EAAAC,EAAAC,cAACgE,EAAD,CAAUrE,KAAK,eAAeC,KAAM0F,EAAKzE,YAAahB,QAAS,WAAO8D,QAAQC,IAAI,WAAW0B,EAAKjF,aAiBnHuG,gBAAiB,SAACxB,EAAWC,GAAZ,OACfvF,EAAAC,EAAAC,cAAA,OACE8E,IAAKO,EACLnF,MAAO,CACL2G,gBAAiB,UACjBtC,OAAQ,EACRuC,UAAW,oBACXC,aAAc,wBAIpBC,aAAc,kBACZlH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEqF,QAAS,GAAI0B,UAAW,WACnCzC,EAAK1C,MAAMJ,UAAY,wBAAW,6BAGvCxB,MAAO,CAACqE,OAAQ2C,SAASC,gBAAgBC,cACzCC,cAAevH,EAAAC,EAAAC,cAAAsH,EAAAvH,EAAA,CACb0B,WAAYN,KAAKW,MAAML,WACvBF,UAAWJ,KAAKI,YAElBK,aAAcT,KAAKS,aACnB2F,SAAU,YAzJIC,aCITC,mLATX,OACE3H,EAAAC,EAAAC,cAAC0E,EAAA,SAAD,KACE5E,EAAAC,EAAAC,cAAA2E,EAAA5E,EAAA,CAAQ6E,KAAK,QAAb,gBADF,uBAJiB4C,aCYRE,mLATX,OACE5H,EAAAC,EAAAC,cAAC0E,EAAA,SAAD,KACE5E,EAAAC,EAAAC,cAAA2E,EAAA5E,EAAA,CAAQ6E,KAAK,QAAb,gBADF,uBAJe4C,aCsCNG,6MA/Bb7F,MAAQ,CAAE8F,YAAa,UAEvBC,cAAgB,SAAClC,EAAOb,EAAKgD,EAAMC,EAAcC,GAAjC,IAAuCC,EAAvCpF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,UACd/C,EAAAC,EAAAC,cAAAkI,EAAAnI,EAAQ0G,KAAR,CACEd,MAAOA,EACPb,IAAKA,EACLgD,KAAMhI,EAAAC,EAAAC,cAAA,KAAGC,MAAO,YAAc6H,IAC9BC,aAAcjI,EAAAC,EAAAC,cAAA,KAAGC,MAAO,YAAc8H,IACtCI,SAAUnH,EAAKc,MAAM8F,cAAgB9C,EACrCsD,QAAS,WAAOpH,EAAKQ,SAAS,CAACoG,YAAa9C,KAC5CmD,MAAOA,GAEPnI,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACqE,OAAQ2C,SAASC,gBAAgBC,aAAe,KAAMY,6EAKrE,OACElI,EAAAC,EAAAC,cAAAkI,EAAAnI,EAAA,CACEsI,oBAAoB,UACpBC,UAAU,UACVC,aAAa,SAEZpH,KAAK0G,cAAc,eAAM,OAAQ,YAAa,aAAc/H,EAAAC,EAAAC,cAACwI,EAAD,OAC5DrH,KAAK0G,cAAc,eAAM,MAAO,sBAAuB,uBAAwB/H,EAAAC,EAAAC,cAACyI,EAAD,MAAc,GAC7FtH,KAAK0G,cAAc,eAAM,KAAM,aAAc,kBAAmB/H,EAAAC,EAAAC,cAAC0I,EAAD,eA3BvDlB,aCJlBmB,IAASC,OAAO9I,EAAAC,EAAAC,cAAC6I,EAAD,MAAS3B,SAAS4B,eAAe,wGCJjD,SAAAC,GAAAC,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,KAAAK,EAAAL,EAAAM,EAAAF,GA0DaD,GA1DbH,EAAA,KAGaO,IAAQ,iBAAkB,OAAQ,CAACC,SAAU,UAuDnC,SAACC,GACtB,MAvDiB,wBAuDGA","file":"static/js/main.4869a122.chunk.js","sourcesContent":["import React from 'react';\n\nexport const IconText = ({ type, text, onClick }) => (\n  <span onClick={onClick}>\n    <i class={'iconfont ' + type} style={{ marginRight: 8 }}></i>\n    {text}\n  </span>\n);","export const data =[{\n  \"id\": 0,\n  \"author\": \"songguo12345\",\n  \"content\": \"my first post\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-26T16:04:00\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 0,\n  \"comment_num\": 0\n},{\n  \"id\": 1,\n  \"author\": \"songguo12345\",\n  \"content\": \"my second post\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-26T16:08:42\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 0,\n  \"comment_num\": 0\n},{\n  \"id\": 2,\n  \"author\": \"songguo12345\",\n  \"content\": \"my bihu post\",\n  \"attachtype\": 1,\n  \"attachment\": \"https://bihu.com/people/14150\",\n  \"time\": \"2019-05-26T16:11:17\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n},{\n  \"id\": 3,\n  \"author\": \"songguo12345\",\n  \"content\": \"Api对象需要使用JsonRpc对象的实例rpc作为参数来构建，因此Api是JsonRpc的进一步封装，JsonRpc用于“读”，Api用于“写”；\\n\\n构建Api对象还需要提供signatureProvider（签名提供者），signatureProvider通过私钥对交易进行签名，因此它一般是一个钱包，这里的signatureProvider就是Scatter。\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-26T23:58:41\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n},{\n  \"id\": 4,\n  \"author\": \"songguo11111\",\n  \"content\": \"2019年5月27日，币民日报第432期\\n\\n\\n\\n2019年5月25日，李笑来突然发了一份申明《2019.05 李笑来的公开声明》，大家都以为他是针对郑某的言论，看了之后发现，只是说一些老掉牙的故事。\\n\\n\\n但即便如此，这份申明依然很有信息量，有很多言外之意，弦外之音。今天我试着给大家解读下。\\n\\n \\n\\n以下是解读，结构模仿笑来原文，可以对号入座。\\n\\n \\n\\n牛市就要来了。过去几年，我犯过很多错误，比如做了一些、投资了一些不太靠谱的项目，比如骂韭菜是傻逼，导致币民对我的误解很深。新的一轮行情要开始了，希望大家忘记过去，重新接纳我、容纳我，不要处处和我做对，让我们和平共处、携手共进、一起致富。\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-27T01:36:11\",\n  \"balance\": \"408.9799 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 3\n},{\n  \"id\": 5,\n  \"author\": \"songguo11111\",\n  \"content\": \"22222\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-27T02:07:16\",\n  \"balance\": \"548.5379 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n},{\n  \"id\": 6,\n  \"author\": \"songguo11111\",\n  \"content\": \"33333\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-27T02:08:30\",\n  \"balance\": \"460.8812 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n},{\n  \"id\": 7,\n  \"author\": \"songguo12345\",\n  \"content\": \"55555\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-27T02:24:59\",\n  \"balance\": \"115.8061 WEI\",\n  \"like_num\": 2,\n  \"comment_num\": 0\n},{\n  \"id\": 8,\n  \"author\": \"songguo12345\",\n  \"content\": \"66666\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-27T02:27:32\",\n  \"balance\": \"488.1667 WEI\",\n  \"like_num\": 3,\n  \"comment_num\": 6\n},{\n  \"id\": 9,\n  \"author\": \"songguo12345\",\n  \"content\": \"截至今日8点，OKEx比特币合约精英账户中，多头平均持仓比例为13.12%，空头平均持仓比例为26.88%，空头占优且多空持仓比例差距增大。以太坊合约精英账户中，多头平均持仓比例为15.52%，空头平均持仓比例为20.80%，空头占优且多空持仓比例差距减小。当前BTC合约持仓总量约为6.06万个BTC，持仓量较昨日有所下降；ETH合约持仓总量约为89.94万个ETH，持仓量较昨日有所增加。\",\n  \"attachtype\": 0,\n  \"attachment\": \"\",\n  \"time\": \"2019-05-29T00:48:44\",\n  \"balance\": \"96.5954 WEI\",\n  \"like_num\": 2,\n  \"comment_num\": 0\n},{\n  \"id\": 10,\n  \"author\": \"songguo54321\",\n  \"content\": \"本地发布\",\n  \"attachtype\": 1,\n  \"attachment\": \"https://bihu.com/people/14150\",\n  \"time\": \"2019-05-29T14:58:15\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n},{\n  \"id\": 11,\n  \"author\": \"songguo54321\",\n  \"content\": \"IPFS网络发布\",\n  \"attachtype\": 1,\n  \"attachment\": \"https://bihu.com/people/14150\",\n  \"time\": \"2019-05-30T03:09:32\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 0,\n  \"comment_num\": 0\n},{\n  \"id\": 12,\n  \"author\": \"songguo12345\",\n  \"content\": \"IPFS网络发布\",\n  \"attachtype\": 1,\n  \"attachment\": \"bihu.com/people/14150\",\n  \"time\": \"2019-05-30T03:19:57\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 0,\n  \"comment_num\": 0\n},{\n  \"id\": 13,\n  \"author\": \"songguo12345\",\n  \"content\": \"本地发布\",\n  \"attachtype\": 1,\n  \"attachment\": \"https://github.com/songguo6\",\n  \"time\": \"2019-05-30T03:38:48\",\n  \"balance\": \"0.0000 WEI\",\n  \"like_num\": 0,\n  \"comment_num\": 0\n},{\n  \"id\": 14,\n  \"author\": \"songguo12345\",\n  \"content\": \"IPFS网络发布\",\n  \"attachtype\": 3,\n  \"attachment\": \"https://pic3.zhimg.com/80/v2-c88c168f8bbdcd78687ad0f693a9a686_hd.jpg\",\n  \"time\": \"2019-05-30T03:44:51\",\n  \"balance\": \"101.6674 WEI\",\n  \"like_num\": 1,\n  \"comment_num\": 0\n}];","import React, { Component, Fragment } from 'react';\nimport { NavBar, ListView, Card, Flex, WhiteSpace, PullToRefresh } from 'antd-mobile';\nimport axios from 'axios';\nimport moment from 'moment';\n\nimport { IconText } from '../utils';\nimport * as ipfsApi from '../api/ipfsApi';\nimport { data } from '../data';\n\nconst ROWS_OF_PAGE = 10;  //每页数据条数\n\nclass PostsPage extends Component {\n\n  constructor(props) {\n    super(props);\n    const dataSource = new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2,\n    });\n\n    this.pageIndex = 0;\n  \n    this.state = {\n      dataSource,\n      refreshing: true,\n      isLoading: true,\n    };\n  }\n\n  genOnePageData(pIndex = 0) {\n    const dataArr = [];\n    for (let i = 0; i < ROWS_OF_PAGE; i++) {\n      dataArr.push(`row - ${(pIndex * ROWS_OF_PAGE) + i}`);\n    }\n    return dataArr;\n  }\n\n  genData(){\n\n    axios.post('https://jungle2.cryptolions.io/v1/chain/get_table_rows', {\n      code: 'weiwendappss',\n      scope: 'weiwendappss',\n      table: 'posttable'\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n\n    setTimeout(() => {\n      this.rData = this.genOnePageData();\n      this.setState({\n        dataSource: this.state.dataSource.cloneWithRows(this.rData),\n        refreshing: false,\n        isLoading: false,\n      });\n    }, 600);\n  }\n\n  componentDidMount() {\n    this.genData();\n  }\n\n  onRefresh = () => {\n    this.setState({ refreshing: true, isLoading: true });\n    this.genData();\n  };\n\n  onEndReached = (event) => {\n    if (this.state.isLoading) return;\n    this.setState({ isLoading: true });\n\n    setTimeout(() => {\n      this.rData = [...this.rData, ...this.genOnePageData(++this.pageIndex)];\n      this.setState({\n        dataSource: this.state.dataSource.cloneWithRows(this.rData),\n        isLoading: false,\n      });\n    }, 600);\n  };\n\n  renderAttachment(type, attachment){\n    if(type === 1){\n      return <a href={attachment}><IconText type='icon-link' text={attachment} /></a> \n    }else if(type === 2){\n      return <a href={ipfsApi.ipfsUrl(attachment)}><IconText type='icon-link' text={attachment} /></a> \n    }else if(type === 3){\n      return (\n        <a href={attachment} target='_blank' rel='noopener noreferrer'>\n          <img src={attachment} alt='' style={{width: 230, height: 100}}/>\n        </a>\n      )\n    }\n    return '';\n  }\n\n  render() {\n    let index = data.length - 1;\n    const row = (rowData, sectionID, rowID) => {\n      if (index < 0) {\n        index = data.length - 1;\n      }\n      const item = data[index--];\n\n      return (\n        <div key={rowID} style={{ padding: '0 15px' }}>\n          <Card full>\n            <Card.Header\n              title={item.author}\n              thumb='https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png'\n              extra={<span style={{fontSize: '14px'}}>{moment(moment(item.time).valueOf()+8*3600000).format('YYYY-MM-DD HH:mm')}</span>}\n            />\n            <Card.Body>\n              <WhiteSpace size='xs'/>\n              <div className='item-content'>{item.content}</div>\n              <WhiteSpace size='lg'/>\n              {\n                item.attachtype ? \n                <div className='item-attach'>\n                  {this.renderAttachment(item.attachtype, item.attachment)}\n                </div> : ''\n              }\n              <WhiteSpace size='lg'/>\n              <Flex style={{color: 'rgba(0,0,0,.45)', fontSize: '14px'}}>\n                <Flex.Item><IconText type='icon-money' text={parseFloat(item.balance).toFixed(2)} /></Flex.Item>\n                <Flex.Item><IconText type='icon-dianzan' text={item.like_num} onClick={() => {console.log('like:'+item.id)}} /></Flex.Item>\n                <Flex.Item><IconText type='icon-comment' text={item.comment_num} onClick={() => {console.log('comment:'+item.id)}} /></Flex.Item>\n              </Flex>\n            </Card.Body>\n          </Card>\n        </div>\n      );\n    };\n    return (\n      <Fragment>\n        <NavBar mode='dark' rightContent='发布'>\n          微文\n        </NavBar>\n        <ListView\n          key={'1'}\n          ref={el => this.lv = el}\n          dataSource={this.state.dataSource}\n          renderRow={row}\n          renderSeparator={(sectionID, rowID) => (\n            <div \n              key={rowID}\n              style={{\n                backgroundColor: '#F5F5F9',\n                height: 8,\n                borderTop: '1px solid #ECECED',\n                borderBottom: '1px solid #ECECED',\n              }}\n            />\n          )}\n          renderFooter={() => (\n            <div style={{ padding: 30, textAlign: 'center' }}>\n              {this.state.isLoading ? '加载中...' : '加载完成'}\n            </div>\n          )}\n          style={{height: document.documentElement.clientHeight}}\n          pullToRefresh={<PullToRefresh\n            refreshing={this.state.refreshing}\n            onRefresh={this.onRefresh}\n          />}\n          onEndReached={this.onEndReached}\n          pageSize={5}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default PostsPage;","import React, { Component, Fragment } from 'react';\nimport { NavBar } from 'antd-mobile';\n\nclass MsgsPage extends Component {\n\n  render() {\n    return (\n      <Fragment>\n        <NavBar mode='dark'>消息</NavBar>\n        消息\n      </Fragment>\n    )\n  }\n}\n\nexport default MsgsPage;","import React, { Component, Fragment } from 'react';\nimport { NavBar } from 'antd-mobile';\n\nclass MyPage extends Component {\n\n  render() {\n    return (\n      <Fragment>\n        <NavBar mode='dark'>我的</NavBar>\n        我的\n      </Fragment>\n    )\n  }\n}\n\nexport default MyPage;","import React, { Component } from 'react';\nimport './App.css';\n\nimport { TabBar } from 'antd-mobile';\nimport PostsPage from './pages/PostsPage';\nimport MsgsPage from './pages/MsgsPage';\nimport MyPage from './pages/MyPage';\n\nclass App extends Component {\n\n  state = { selectedTab: 'home'};  \n\n  createTabItem = (title, key, icon, selectedIcon, page, badge = false) => (\n    <TabBar.Item\n      title={title}\n      key={key}\n      icon={<i class={'iconfont ' + icon}></i>}\n      selectedIcon={<i class={'iconfont ' + selectedIcon}></i>}\n      selected={this.state.selectedTab === key}\n      onPress={() => {this.setState({selectedTab: key})}}\n      badge={badge}\n    >\n      <div style={{height: document.documentElement.clientHeight - 50}}>{page}</div>\n    </TabBar.Item>\n  )\n\n  render(){\n    return (\n      <TabBar\n        unselectedTintColor='#949494'\n        tintColor='#33A3F4'\n        barTintColor='white'\n      >\n        {this.createTabItem('首页', 'home', 'icon-home', 'icon-home1', <PostsPage />)}\n        {this.createTabItem('消息', 'msg', 'icon-xiaoxi-control', 'icon-xiaoxi-control1', <MsgsPage />, 1)}\n        {this.createTabItem('我的', 'my', 'icon-geren', 'icon-geren-copy', <MyPage />)}\n      </TabBar>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import IpfsAPI from 'ipfs-api';\nimport axios from 'axios';\n\nconst ipfs = IpfsAPI('ipfs.infura.io', '5001', {protocol: 'https'});\nconst ipfsPrefix = 'https://ipfs.io/ipfs/';\n\nconst pinataApiKey = '7f6281d069410fd3a2c7';\nconst pinataSecretApiKey = '5dd9ef467c830d553d8e47ab91d22d76aa5280f756e614625bcc79d5e5960258';\n\n/**\n * 保存文件到IPFS\n */\nexport const saveFileToIPFS = (file) => {\n  return new Promise((resolve, reject) => {\n    let reader = new FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      const buffer = Buffer.from(reader.result);\n      ipfs.add(buffer).then(res => {\n        resolve(res[0].hash);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  });\n};\n\n/**\n * 保存文本到IPFS\n */\nexport const saveTextToIPFS = (text) => {\n  return new Promise((resolve, reject) => {\n    const descBuf = Buffer.from(text, 'utf-8');\n    ipfs.add(descBuf).then(res => {\n      resolve(res[0].hash);\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n};\n\n/**\n * 从IPFS读取文本\n */\nexport const readTextFromIPFS = (hash) => {\n  return new Promise((resolve, reject) => {\n    ipfs.cat(hash).then(res => {\n      let content = new TextDecoder('utf-8').decode(res);\n      resolve(content);\n    }).catch(error => {\n      console.log(error);\n    });\n  });\n};\n\n/**\n * 通过哈希值访问IPFS上的文件 \n */\nexport const ipfsUrl = (hash) => {\n  return ipfsPrefix + hash;\n};\n\n/**\n * 使用Infura固定服务\n */\nexport const pinByInfura = (hash) => {\n  axios.get('https://ipfs.infura.io:5001/api/v0/pin/add?arg=/ipfs/' + hash)\n  .then(res => {\n    console.log(res);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n};\n\n/**\n * 使用Pinata固定服务\n */\nexport const pinByPinata = (hash) => {\n  axios.post('https://api.pinata.cloud/pinning/pinHashToIPFS',\n    { hashToPin: hash },\n    { headers: \n      {\n        'pinata_api_key': pinataApiKey,\n        'pinata_secret_api_key': pinataSecretApiKey,\n      }\n    }).then(res => {\n      console.log(res);    \n    }).catch(function (error) {\n      console.log(error);\n    });\n}\n"],"sourceRoot":""}