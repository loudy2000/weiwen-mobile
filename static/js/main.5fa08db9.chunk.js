(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1154:function(e,t){},1209:function(e,t){},1214:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),i=n(180),s=n(110),u=n(512),l={logged:{},user:{}},f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,p=Object(s.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=JSON.parse(JSON.stringify(e));switch(t.type){case"CHANGE_LOGIN_STATUS":n.logged=t.value;break;case"CHANGE_USER_INFO":n.user=t.value}return n},f(Object(s.a)(u.a))),d=(n(531),n(279)),m=n.n(d),h=n(65),g=n(66),b=n(68),E=n(67),v=n(69),x=(n(587),n(588),n(514)),w=n.n(x),y=(n(199),n(108)),O=n.n(y),k=(n(595),n(141)),j=n.n(k),S=(n(297),n(111)),_=n.n(S),D=(n(600),n(181)),C=n.n(D),T=(n(605),n(280)),I=n.n(T),R=n(284),N=n(21),A=n.n(N),F=n(33),L=n(281),z=n.n(L),H=(n(613),n(516)),P=n.n(H),J=function(e){var t=e.type,n=e.text,a=e.onClick;return r.a.createElement("span",{onClick:a},r.a.createElement("i",{class:"iconfont "+t,style:{marginRight:8}}),n)},G=n(182),U=n(521),B=n(283),M=n(519),X={blockchain:"eos",protocol:"https",host:"api.jungle.alohaeos.com",port:443,chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"},Y=new M.JsSignatureProvider(["5JtUScZK2XEp3g9gh7F8bwtPTRAkASmNrrftmx4AxDKD5K4zDnr"]),K=X.protocol+"://"+X.host+":"+X.port,W=new B.JsonRpc(K,{fetch:fetch}),V=(new B.Api({rpc:W,signatureProvider:Y,chainId:X.chainId,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),function(){var e=Object(F.a)(A.a.mark(function e(t,n){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get_table_rows(Object(U.a)({json:!0,code:"weiwendapps2",scope:"weiwendapps2",table:t,limit:9999,reverse:!0,key_type:"i64",index_position:1},n));case 2:return a=e.sent,e.abrupt("return",a.rows);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),Z=function(){var e=Object(F.a)(A.a.mark(function e(t,n){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get_table_rows({json:!0,code:"weiwendapps2",scope:"weiwendapps2",table:t,lower_bound:n,upper_bound:n,limit:1});case 2:return a=e.sent,e.abrupt("return",a.rows[0]);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),q=function(e){function t(e){var n;Object(h.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).onRefresh=Object(F.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({refreshing:!0,isLoading:!0}),e.next=3,V("posttable");case 3:t=e.sent,n.setState({data:t}),n.rData=n.genOnePageData(),n.setState({dataSource:n.state.dataSource.cloneWithRows(n.rData),refreshing:!1,isLoading:!1}),n.pageIndex=0;case 8:case"end":return e.stop()}},e)})),n.onEndReached=function(e){n.state.isLoading||(n.setState({isLoading:!0}),setTimeout(function(){n.rData=[].concat(Object(R.a)(n.rData),Object(R.a)(n.genOnePageData(++n.pageIndex))),n.setState({dataSource:n.state.dataSource.cloneWithRows(n.rData),isLoading:!1})},600))},n.pageIndex=0;var a=new I.a.DataSource({rowHasChanged:function(e,t){return e!==t}});return n.state={data:[],dataSource:a,refreshing:!0,isLoading:!0},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"genOnePageData",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],n=0;n<10;n++){var a=this.state.data[10*e+n];void 0!==a&&t.push(a)}return t}},{key:"componentDidMount",value:function(){var e=Object(F.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("posttable");case 2:t=e.sent,this.setState({data:t}),this.rData=this.genOnePageData(),this.setState({dataSource:this.state.dataSource.cloneWithRows(this.rData),refreshing:!1,isLoading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderAttachment",value:function(e,t){return 1===e?r.a.createElement("a",{href:t},r.a.createElement(J,{type:"icon-link",text:t})):2===e?r.a.createElement("a",{href:G.a(t)},r.a.createElement(J,{type:"icon-link",text:t})):3===e?r.a.createElement("a",{href:G.a(t),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:G.a(t),alt:"",style:{width:230,height:100}})):""}},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(O.a,{mode:"dark",rightContent:"\u53d1\u5e03"},"\u5fae\u6587"),r.a.createElement(I.a,{dataSource:this.state.dataSource,renderRow:function(t,n,a){var c=t;return r.a.createElement("div",{key:a,style:{padding:"0 15px"}},r.a.createElement(C.a,{full:!0},r.a.createElement(C.a.Header,{title:c.author,thumb:"https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png",extra:r.a.createElement("span",{style:{fontSize:"14px"}},z()(z()(c.time).valueOf()+288e5).format("YYYY-MM-DD HH:mm"))}),r.a.createElement(C.a.Body,null,r.a.createElement(_.a,{size:"xs"}),r.a.createElement("div",{className:"item-content"},c.content),r.a.createElement(_.a,{size:"lg"}),c.attachtype?r.a.createElement("div",{className:"item-attach"},e.renderAttachment(c.attachtype,c.attachment)):"",r.a.createElement(_.a,{size:"lg"}),r.a.createElement(j.a,{style:{color:"rgba(0,0,0,.45)",fontSize:"14px"}},r.a.createElement(j.a.Item,null,r.a.createElement(J,{type:"icon-money",text:parseFloat(c.balance).toFixed(2)})),r.a.createElement(j.a.Item,null,r.a.createElement(J,{type:"icon-dianzan",text:c.like_num,onClick:function(){console.log("like:"+c.id)}})),r.a.createElement(j.a.Item,null,r.a.createElement(J,{type:"icon-comment",text:c.comment_num,onClick:function(){console.log("comment:"+c.id)}}))))))},renderSeparator:function(e,t){return r.a.createElement("div",{key:t,style:{backgroundColor:"#F5F5F9",height:8,borderTop:"1px solid #ECECED",borderBottom:"1px solid #ECECED"}})},renderFooter:function(){return r.a.createElement("div",{style:{padding:10,textAlign:"center"}},e.state.isLoading?"\u52a0\u8f7d\u4e2d...":"\u52a0\u8f7d\u5b8c\u6210")},style:{height:document.documentElement.clientHeight},pullToRefresh:r.a.createElement(w.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached,pageSize:5}))}}]),t}(a.Component),Q=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(O.a,{mode:"dark"},"\u6d88\u606f"),"\u6d88\u606f")}}]),t}(a.Component),$=(n(1199),n(520)),ee=n.n($),te=n(84),ne=n.n(te),ae=function(){var e=Object(F.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a.scatter.connect("\u5fae\u6587",{initTimeout:5e3});case 2:e.sent||(t="\u6ca1\u6709\u68c0\u6d4b\u5230Scatter",P.a.info(t,1));case 4:case"end":return e.stop()}var t},e)}));return function(){return e.apply(this,arguments)}}(),re=function(e){return{type:"CHANGE_LOGIN_STATUS",value:e}},ce=function(e){return{type:"CHANGE_USER_INFO",value:e}},oe=function(e){return function(){var t=Object(F.a)(A.a.mark(function t(n){var a;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z("usertable",e);case 2:(a=t.sent)&&n(ce(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ie=function(){var e=Object(F.a)(A.a.mark(function e(t){var n,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:return e.next=5,ne.a.scatter.login({accounts:[X]});case 5:n=e.sent,(a=n.accounts[0])&&(t(re(a)),t(oe(a.name))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(F.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.scatter.logout();case 3:t(re(!1)),t(ce({})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(F.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:return e.next=5,ne.a.scatter.checkLogin();case 5:e.sent&&t(ie),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),le=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.checkLogin()}},{key:"render",value:function(){var e=this.props,t=e.logged,n=e.login,c=e.logout,o=e.user;return r.a.createElement(a.Fragment,null,r.a.createElement(O.a,{mode:"dark"},"\u6211\u7684"),r.a.createElement(ee.a,{onClick:t.name?c:n},t.name?"\u6ce8\u9500":"\u767b\u5f55"),r.a.createElement(_.a,{size:"lg"}),r.a.createElement("div",null,o.account))}}]),t}(a.Component),fe=Object(i.b)(function(e){return{logged:e.logged,user:e.user}},function(e){return{login:function(){e(ie)},logout:function(){e(se)},checkLogin:function(){e(ue)}}})(le),pe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={selectedTab:"home"},n.createTabItem=function(e,t,a,c,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r.a.createElement(m.a.Item,{title:e,key:t,icon:r.a.createElement("i",{class:"iconfont "+a}),selectedIcon:r.a.createElement("i",{class:"iconfont "+c}),selected:n.state.selectedTab===t,onPress:function(){n.setState({selectedTab:t})},badge:i},r.a.createElement("div",{style:{height:document.documentElement.clientHeight-50}},o))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{unselectedTintColor:"#949494",tintColor:"#33A3F4",barTintColor:"white"},this.createTabItem("\u9996\u9875","home","icon-home","icon-home1",r.a.createElement(q,null)),this.createTabItem("\u6d88\u606f","msg","icon-xiaoxi-control","icon-xiaoxi-control1",r.a.createElement(Q,null),1),this.createTabItem("\u6211\u7684","my","icon-geren","icon-geren-copy",r.a.createElement(fe,null)))}}]),t}(a.Component);o.a.render(r.a.createElement(i.a,{store:p},r.a.createElement(pe,null)),document.getElementById("root"))},182:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var a=n(518),r=n.n(a),c=(n(282),r()("ipfs.infura.io","5001",{protocol:"https"}),function(e){return"https://ipfs.io/ipfs/"+e})}).call(this,n(1).Buffer)},391:function(e,t){},428:function(e,t){},469:function(e,t){},522:function(e,t,n){e.exports=n(1214)},587:function(e,t,n){},628:function(e,t){},630:function(e,t){},636:function(e,t){},638:function(e,t){},669:function(e,t){},670:function(e,t){},700:function(e,t){},913:function(e,t){},923:function(e,t){},996:function(e,t){}},[[522,1,2]]]);
//# sourceMappingURL=main.5fa08db9.chunk.js.map